apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "secureyeoman.fullname" . }}-config
  namespace: {{ include "secureyeoman.namespace" . }}
  labels:
    {{- include "secureyeoman.labels" . | nindent 4 }}
data:
  NODE_ENV: {{ .Values.config.nodeEnv | quote }}
  SECUREYEOMAN_HOST: {{ .Values.config.secureyeomanHost | quote }}
  DATABASE_HOST: {{ .Values.database.host | quote }}
  DATABASE_PORT: {{ .Values.database.port | quote }}
  DATABASE_NAME: {{ .Values.database.name | quote }}
  DATABASE_USER: {{ .Values.database.user | quote }}
  MCP_ENABLED: {{ .Values.mcp.enabled | quote }}
  MCP_PORT: {{ .Values.mcp.port | quote }}
  MCP_HOST: "0.0.0.0"
  MCP_CORE_URL: "http://{{ include "secureyeoman.fullname" . }}-core:{{ .Values.core.port }}"
  {{- range $key, $val := .Values.mcp.env }}
  {{ $key }}: {{ $val | quote }}
  {{- end }}
