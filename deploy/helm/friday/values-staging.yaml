# Staging overrides

core:
  replicaCount: 2
  resources:
    requests:
      cpu: 250m
      memory: 512Mi
    limits:
      cpu: "2"
      memory: 2Gi

mcp:
  replicaCount: 1
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: "1"
      memory: 1Gi

dashboard:
  replicaCount: 1

ingress:
  enabled: true
  className: nginx
  annotations:
    cert-manager.io/cluster-issuer: letsencrypt-staging
  hosts:
    - host: friday-staging.example.com
      paths:
        - path: /
          pathType: Prefix
          service: dashboard
        - path: /api
          pathType: Prefix
          service: core
        - path: /ws
          pathType: Prefix
          service: core
        - path: /health
          pathType: Prefix
          service: core
        - path: /metrics
          pathType: Prefix
          service: core
  tls:
    - secretName: friday-staging-tls
      hosts:
        - friday-staging.example.com

autoscaling:
  enabled: true
  core:
    minReplicas: 2
    maxReplicas: 5
    targetCPUUtilizationPercentage: 70
  mcp:
    minReplicas: 1
    maxReplicas: 3
    targetCPUUtilizationPercentage: 70

podDisruptionBudget:
  enabled: true

monitoring:
  enabled: true
  alerts:
    enabled: true
  grafana:
    enabled: true
